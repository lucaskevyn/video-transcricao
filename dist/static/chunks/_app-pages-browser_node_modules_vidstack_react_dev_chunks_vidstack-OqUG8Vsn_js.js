"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_vidstack_react_dev_chunks_vidstack-OqUG8Vsn_js"],{

/***/ "(app-pages-browser)/./node_modules/@vidstack/react/dev/chunks/vidstack-OqUG8Vsn.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@vidstack/react/dev/chunks/vidstack-OqUG8Vsn.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GoogleCastProvider: function() { return /* binding */ GoogleCastProvider; }\n/* harmony export */ });\n/* harmony import */ var _vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vidstack-3hs3-8i_.js */ \"(app-pages-browser)/./node_modules/@vidstack/react/dev/chunks/vidstack-3hs3-8i_.js\");\n/* harmony import */ var _vidstack_Nm9OJy7x_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vidstack-Nm9OJy7x.js */ \"(app-pages-browser)/./node_modules/@vidstack/react/dev/chunks/vidstack-Nm9OJy7x.js\");\n/* harmony import */ var _vidstack_VGbd3Q_b_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vidstack-VGbd3Q_b.js */ \"(app-pages-browser)/./node_modules/@vidstack/react/dev/chunks/vidstack-VGbd3Q_b.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* __next_internal_client_entry_do_not_use__ GoogleCastProvider auto */ \n\n\n\n\nclass GoogleCastMediaInfoBuilder {\n    build() {\n        return this._info;\n    }\n    _setStreamType(streamType) {\n        if (streamType.includes(\"live\")) {\n            this._info.streamType = chrome.cast.media.StreamType.LIVE;\n        } else {\n            this._info.streamType = chrome.cast.media.StreamType.BUFFERED;\n        }\n        return this;\n    }\n    _setTracks(tracks) {\n        this._info.tracks = tracks.map(this._buildCastTrack);\n        return this;\n    }\n    _setMetadata(title, poster) {\n        this._info.metadata = new chrome.cast.media.GenericMediaMetadata();\n        this._info.metadata.title = title;\n        this._info.metadata.images = [\n            {\n                url: poster\n            }\n        ];\n        return this;\n    }\n    _buildCastTrack(track, trackId) {\n        const castTrack = new chrome.cast.media.Track(trackId, chrome.cast.media.TrackType.TEXT);\n        castTrack.name = track.label;\n        castTrack.trackContentId = track.src;\n        castTrack.trackContentType = \"text/vtt\";\n        castTrack.language = track.language;\n        castTrack.subtype = track.kind.toUpperCase();\n        return castTrack;\n    }\n    constructor(src){\n        this._info = new chrome.cast.media.MediaInfo(src.src, src.type);\n    }\n}\nconst REMOTE_TRACK_TEXT_TYPE = chrome.cast.media.TrackType.TEXT, REMOTE_TRACK_AUDIO_TYPE = chrome.cast.media.TrackType.AUDIO;\nclass GoogleCastTracksManager {\n    _setup() {\n        const syncRemoteActiveIds = this._syncRemoteActiveIds.bind(this);\n        (0,_vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.listenEvent)(this._ctx.audioTracks, \"change\", syncRemoteActiveIds);\n        (0,_vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.listenEvent)(this._ctx.textTracks, \"mode-change\", syncRemoteActiveIds);\n        (0,_vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.effect)(this._syncLocalTracks.bind(this));\n    }\n    _getLocalTextTracks() {\n        return this._ctx.$state.textTracks().filter((track)=>track.src && track.type === \"vtt\");\n    }\n    _getLocalAudioTracks() {\n        return this._ctx.$state.audioTracks();\n    }\n    _getRemoteTracks(type) {\n        var _this__cast_mediaInfo;\n        var _this__cast_mediaInfo_tracks;\n        const tracks = (_this__cast_mediaInfo_tracks = (_this__cast_mediaInfo = this._cast.mediaInfo) === null || _this__cast_mediaInfo === void 0 ? void 0 : _this__cast_mediaInfo.tracks) !== null && _this__cast_mediaInfo_tracks !== void 0 ? _this__cast_mediaInfo_tracks : [];\n        return type ? tracks.filter((track)=>track.type === type) : tracks;\n    }\n    _getRemoteActiveIds() {\n        const activeIds = [], activeLocalAudioTrack = this._getLocalAudioTracks().find((track)=>track.selected), activeLocalTextTracks = this._getLocalTextTracks().filter((track)=>track.mode === \"showing\");\n        if (activeLocalAudioTrack) {\n            const remoteAudioTracks = this._getRemoteTracks(REMOTE_TRACK_AUDIO_TYPE), remoteAudioTrack = this._findRemoteTrack(remoteAudioTracks, activeLocalAudioTrack);\n            if (remoteAudioTrack) activeIds.push(remoteAudioTrack.trackId);\n        }\n        if (activeLocalTextTracks === null || activeLocalTextTracks === void 0 ? void 0 : activeLocalTextTracks.length) {\n            const remoteTextTracks = this._getRemoteTracks(REMOTE_TRACK_TEXT_TYPE);\n            if (remoteTextTracks.length) {\n                for (const localTrack of activeLocalTextTracks){\n                    const remoteTextTrack = this._findRemoteTrack(remoteTextTracks, localTrack);\n                    if (remoteTextTrack) activeIds.push(remoteTextTrack.trackId);\n                }\n            }\n        }\n        return activeIds;\n    }\n    _syncLocalTracks() {\n        const localTextTracks = this._getLocalTextTracks();\n        if (!this._cast.isMediaLoaded) return;\n        const remoteTextTracks = this._getRemoteTracks(REMOTE_TRACK_TEXT_TYPE);\n        for (const localTrack of localTextTracks){\n            const hasRemoteTrack = this._findRemoteTrack(remoteTextTracks, localTrack);\n            if (!hasRemoteTrack) {\n                (0,_vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.untrack)(()=>{\n                    var _this__onNewLocalTracks, _this;\n                    return (_this__onNewLocalTracks = (_this = this)._onNewLocalTracks) === null || _this__onNewLocalTracks === void 0 ? void 0 : _this__onNewLocalTracks.call(_this);\n                });\n                break;\n            }\n        }\n    }\n    _syncRemoteTracks(event) {\n        if (!this._cast.isMediaLoaded) return;\n        const localAudioTracks = this._getLocalAudioTracks(), localTextTracks = this._getLocalTextTracks(), remoteAudioTracks = this._getRemoteTracks(REMOTE_TRACK_AUDIO_TYPE), remoteTextTracks = this._getRemoteTracks(REMOTE_TRACK_TEXT_TYPE);\n        for (const remoteAudioTrack of remoteAudioTracks){\n            const hasLocalTrack = this._findLocalTrack(localAudioTracks, remoteAudioTrack);\n            if (hasLocalTrack) continue;\n            var _remoteAudioTrack_subtype;\n            const localAudioTrack = {\n                id: remoteAudioTrack.trackId.toString(),\n                label: remoteAudioTrack.name,\n                language: remoteAudioTrack.language,\n                kind: (_remoteAudioTrack_subtype = remoteAudioTrack.subtype) !== null && _remoteAudioTrack_subtype !== void 0 ? _remoteAudioTrack_subtype : \"main\",\n                selected: false\n            };\n            this._ctx.audioTracks[_vidstack_Nm9OJy7x_js__WEBPACK_IMPORTED_MODULE_2__.ListSymbol._add](localAudioTrack, event);\n        }\n        for (const remoteTextTrack of remoteTextTracks){\n            const hasLocalTrack = this._findLocalTrack(localTextTracks, remoteTextTrack);\n            if (hasLocalTrack) continue;\n            const localTextTrack = {\n                id: remoteTextTrack.trackId.toString(),\n                src: remoteTextTrack.trackContentId,\n                label: remoteTextTrack.name,\n                language: remoteTextTrack.language,\n                kind: remoteTextTrack.subtype.toLowerCase()\n            };\n            this._ctx.textTracks.add(localTextTrack, event);\n        }\n    }\n    _syncRemoteActiveIds(event) {\n        if (!this._cast.isMediaLoaded) return;\n        const activeIds = this._getRemoteActiveIds(), editRequest = new chrome.cast.media.EditTracksInfoRequest(activeIds);\n        this._editTracksInfo(editRequest).catch((error)=>{\n            {\n                var _this__ctx_logger;\n                (_this__ctx_logger = this._ctx.logger) === null || _this__ctx_logger === void 0 ? void 0 : _this__ctx_logger.errorGroup(\"[vidstack] failed to edit cast tracks info\").labelledLog(\"Edit Request\", editRequest).labelledLog(\"Error\", error).dispatch();\n            }\n        });\n    }\n    _editTracksInfo(request) {\n        const media = (0,_vidstack_VGbd3Q_b_js__WEBPACK_IMPORTED_MODULE_3__.getCastSessionMedia)();\n        return new Promise((resolve, reject)=>media === null || media === void 0 ? void 0 : media.editTracksInfo(request, resolve, reject));\n    }\n    _findLocalTrack(localTracks, remoteTrack) {\n        return localTracks.find((localTrack)=>this._isMatch(localTrack, remoteTrack));\n    }\n    _findRemoteTrack(remoteTracks, localTrack) {\n        return remoteTracks.find((remoteTrack)=>this._isMatch(localTrack, remoteTrack));\n    }\n    // Note: we can't rely on id matching because they will differ between local/remote. A local\n    // track id might not even exist.\n    _isMatch(localTrack, remoteTrack) {\n        return remoteTrack.name === localTrack.label && remoteTrack.language === localTrack.language && remoteTrack.subtype.toLowerCase() === localTrack.kind.toLowerCase();\n    }\n    constructor(_cast, _ctx, _onNewLocalTracks){\n        this._cast = _cast;\n        this._ctx = _ctx;\n        this._onNewLocalTracks = _onNewLocalTracks;\n    }\n}\nclass GoogleCastProvider {\n    get _notify() {\n        return this._ctx.delegate._notify;\n    }\n    get type() {\n        return \"google-cast\";\n    }\n    get currentSrc() {\n        return this._currentSrc;\n    }\n    /**\n   * The Google Cast remote player.\n   *\n   * @see {@link https://developers.google.com/cast/docs/reference/web_sender/cast.framework.RemotePlayer}\n   */ get player() {\n        return this._player;\n    }\n    /**\n   * @see {@link https://developers.google.com/cast/docs/reference/web_sender/cast.framework.CastContext}\n   */ get cast() {\n        return (0,_vidstack_VGbd3Q_b_js__WEBPACK_IMPORTED_MODULE_3__.getCastContext)();\n    }\n    /**\n   * @see {@link https://developers.google.com/cast/docs/reference/web_sender/cast.framework.CastSession}\n   */ get session() {\n        return (0,_vidstack_VGbd3Q_b_js__WEBPACK_IMPORTED_MODULE_3__.getCastSession)();\n    }\n    /**\n   * @see {@link https://developers.google.com/cast/docs/reference/web_sender/chrome.cast.media.Media}\n   */ get media() {\n        return (0,_vidstack_VGbd3Q_b_js__WEBPACK_IMPORTED_MODULE_3__.getCastSessionMedia)();\n    }\n    /**\n   * Whether the current Google Cast session belongs to this provider.\n   */ get hasActiveSession() {\n        return (0,_vidstack_VGbd3Q_b_js__WEBPACK_IMPORTED_MODULE_3__.hasActiveCastSession)(this._currentSrc);\n    }\n    setup() {\n        this._attachCastContextEventListeners();\n        this._attachCastPlayerEventListeners();\n        this._tracks._setup();\n        this._notify(\"provider-setup\", this);\n    }\n    _attachCastContextEventListeners() {\n        (0,_vidstack_VGbd3Q_b_js__WEBPACK_IMPORTED_MODULE_3__.listenCastContextEvent)(cast.framework.CastContextEventType.CAST_STATE_CHANGED, this._onCastStateChange.bind(this));\n    }\n    _attachCastPlayerEventListeners() {\n        const Event2 = cast.framework.RemotePlayerEventType, handlers = {\n            [Event2.IS_CONNECTED_CHANGED]: this._onCastStateChange,\n            [Event2.IS_MEDIA_LOADED_CHANGED]: this._onMediaLoadedChange,\n            [Event2.CAN_CONTROL_VOLUME_CHANGED]: this._onCanControlVolumeChange,\n            [Event2.CAN_SEEK_CHANGED]: this._onCanSeekChange,\n            [Event2.DURATION_CHANGED]: this._onDurationChange,\n            [Event2.IS_MUTED_CHANGED]: this._onVolumeChange,\n            [Event2.VOLUME_LEVEL_CHANGED]: this._onVolumeChange,\n            [Event2.IS_PAUSED_CHANGED]: this._onPausedChange,\n            [Event2.LIVE_SEEKABLE_RANGE_CHANGED]: this._onProgress,\n            [Event2.PLAYER_STATE_CHANGED]: this._onPlayerStateChange\n        };\n        this._playerEventHandlers = handlers;\n        const handler = this._onRemotePlayerEvent.bind(this);\n        for (const type of (0,_vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.keysOf)(handlers)){\n            this._player.controller.addEventListener(type, handler);\n        }\n        (0,_vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.onDispose)(()=>{\n            for (const type of (0,_vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.keysOf)(handlers)){\n                this._player.controller.removeEventListener(type, handler);\n            }\n        });\n    }\n    async play() {\n        var _this__player_controller;\n        if (!this._player.isPaused && !this._isIdle) return;\n        if (this._isIdle) {\n            await this._reload(false, 0);\n            return;\n        }\n        (_this__player_controller = this._player.controller) === null || _this__player_controller === void 0 ? void 0 : _this__player_controller.playOrPause();\n    }\n    async pause() {\n        var _this__player_controller;\n        if (this._player.isPaused) return;\n        (_this__player_controller = this._player.controller) === null || _this__player_controller === void 0 ? void 0 : _this__player_controller.playOrPause();\n    }\n    getMediaStatus(request) {\n        return new Promise((resolve, reject)=>{\n            var _this_media;\n            (_this_media = this.media) === null || _this_media === void 0 ? void 0 : _this_media.getStatus(request, resolve, reject);\n        });\n    }\n    setMuted(muted) {\n        var _this__player_controller;\n        const hasChanged = muted && !this._player.isMuted || !muted && this._player.isMuted;\n        if (hasChanged) (_this__player_controller = this._player.controller) === null || _this__player_controller === void 0 ? void 0 : _this__player_controller.muteOrUnmute();\n    }\n    setCurrentTime(time) {\n        var _this__player_controller;\n        this._player.currentTime = time;\n        this._notify(\"seeking\", time);\n        (_this__player_controller = this._player.controller) === null || _this__player_controller === void 0 ? void 0 : _this__player_controller.seek();\n    }\n    setVolume(volume) {\n        var _this__player_controller;\n        this._player.volumeLevel = volume;\n        (_this__player_controller = this._player.controller) === null || _this__player_controller === void 0 ? void 0 : _this__player_controller.setVolumeLevel();\n    }\n    async loadSource(src) {\n        var _this__reloadInfo;\n        if (((_this__reloadInfo = this._reloadInfo) === null || _this__reloadInfo === void 0 ? void 0 : _this__reloadInfo.src) !== src) this._reloadInfo = null;\n        if ((0,_vidstack_VGbd3Q_b_js__WEBPACK_IMPORTED_MODULE_3__.hasActiveCastSession)(src)) {\n            this._resumeSession();\n            this._currentSrc = src;\n            return;\n        }\n        this._notify(\"load-start\");\n        const loadRequest = this._buildLoadRequest(src), errorCode = await this.session.loadMedia(loadRequest);\n        if (errorCode) {\n            this._currentSrc = null;\n            this._notify(\"error\", Error((0,_vidstack_VGbd3Q_b_js__WEBPACK_IMPORTED_MODULE_3__.getCastErrorMessage)(errorCode)));\n            return;\n        }\n        this._currentSrc = src;\n    }\n    destroy() {\n        this._reset();\n        this._endSession();\n    }\n    _reset() {\n        if (!this._reloadInfo) {\n            this._played = 0;\n            this._seekableRange = new _vidstack_Nm9OJy7x_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, 0);\n        }\n        this._timeRAF._stop();\n        this._currentTime = 0;\n        this._reloadInfo = null;\n    }\n    _resumeSession() {\n        const resumeSessionEvent = new _vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.DOMEvent(\"resume-session\", {\n            detail: this.session\n        });\n        this._onMediaLoadedChange(resumeSessionEvent);\n        const { muted, volume, savedState } = this._ctx.$state, localState = savedState();\n        var _localState_currentTime;\n        this.setCurrentTime(Math.max(this._player.currentTime, (_localState_currentTime = localState === null || localState === void 0 ? void 0 : localState.currentTime) !== null && _localState_currentTime !== void 0 ? _localState_currentTime : 0));\n        this.setMuted(muted());\n        this.setVolume(volume());\n        if ((localState === null || localState === void 0 ? void 0 : localState.paused) === false) this.play();\n    }\n    _endSession() {\n        this.cast.endCurrentSession(true);\n        const { remotePlaybackLoader } = this._ctx.$state;\n        remotePlaybackLoader.set(null);\n    }\n    _disconnectFromReceiver() {\n        const { savedState } = this._ctx.$state;\n        savedState.set({\n            paused: this._player.isPaused,\n            currentTime: this._player.currentTime\n        });\n        this._endSession();\n    }\n    _onAnimationFrame() {\n        this._onCurrentTimeChange();\n    }\n    _onRemotePlayerEvent(event) {\n        this._playerEventHandlers[event.type].call(this, event);\n    }\n    _onCastStateChange(data) {\n        const castState = this.cast.getCastState(), state = castState === cast.framework.CastState.CONNECTED ? \"connected\" : castState === cast.framework.CastState.CONNECTING ? \"connecting\" : \"disconnected\";\n        if (this._state === state) return;\n        const detail = {\n            type: \"google-cast\",\n            state\n        }, trigger = this._createEvent(data);\n        this._state = state;\n        this._notify(\"remote-playback-change\", detail, trigger);\n        if (state === \"disconnected\") {\n            this._disconnectFromReceiver();\n        }\n    }\n    _onMediaLoadedChange(event) {\n        const hasLoaded = !!this._player.isMediaLoaded;\n        if (!hasLoaded) return;\n        const src = (0,_vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.peek)(this._ctx.$state.source);\n        Promise.resolve().then(()=>{\n            if (src !== (0,_vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.peek)(this._ctx.$state.source) || !this._player.isMediaLoaded) return;\n            this._reset();\n            const duration = this._player.duration;\n            this._seekableRange = new _vidstack_Nm9OJy7x_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, duration);\n            const detail = {\n                provider: this,\n                duration,\n                buffered: new _vidstack_Nm9OJy7x_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, 0),\n                seekable: this._getSeekableRange()\n            }, trigger = this._createEvent(event);\n            this._notify(\"loaded-metadata\", void 0, trigger);\n            this._notify(\"loaded-data\", void 0, trigger);\n            this._notify(\"can-play\", detail, trigger);\n            this._onCanControlVolumeChange();\n            this._onCanSeekChange(event);\n            const { volume, muted } = this._ctx.$state;\n            this.setVolume(volume());\n            this.setMuted(muted());\n            this._timeRAF._start();\n            this._tracks._syncRemoteTracks(trigger);\n            this._tracks._syncRemoteActiveIds(trigger);\n        });\n    }\n    _onCanControlVolumeChange() {\n        this._ctx.$state.canSetVolume.set(this._player.canControlVolume);\n    }\n    _onCanSeekChange(event) {\n        const trigger = this._createEvent(event);\n        this._notify(\"stream-type-change\", this._getStreamType(), trigger);\n    }\n    _getStreamType() {\n        var _this__player_mediaInfo;\n        const streamType = (_this__player_mediaInfo = this._player.mediaInfo) === null || _this__player_mediaInfo === void 0 ? void 0 : _this__player_mediaInfo.streamType;\n        return streamType === chrome.cast.media.StreamType.LIVE ? this._player.canSeek ? \"live:dvr\" : \"live\" : \"on-demand\";\n    }\n    _onCurrentTimeChange() {\n        if (this._reloadInfo) return;\n        const currentTime = this._player.currentTime;\n        if (currentTime === this._currentTime) return;\n        this._notify(\"time-change\", currentTime);\n        if (currentTime > this._played) {\n            this._played = currentTime;\n            this._onProgress();\n        }\n        if (this._ctx.$state.seeking()) {\n            this._notify(\"seeked\", currentTime);\n        }\n        this._currentTime = currentTime;\n    }\n    _onDurationChange(event) {\n        if (!this._player.isMediaLoaded || this._reloadInfo) return;\n        const duration = this._player.duration, trigger = this._createEvent(event);\n        this._seekableRange = new _vidstack_Nm9OJy7x_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, duration);\n        this._notify(\"duration-change\", duration, trigger);\n    }\n    _onVolumeChange(event) {\n        if (!this._player.isMediaLoaded) return;\n        const detail = {\n            muted: this._player.isMuted,\n            volume: this._player.volumeLevel\n        }, trigger = this._createEvent(event);\n        this._notify(\"volume-change\", detail, trigger);\n    }\n    _onPausedChange(event) {\n        const trigger = this._createEvent(event);\n        if (this._player.isPaused) {\n            this._notify(\"pause\", void 0, trigger);\n        } else {\n            this._notify(\"play\", void 0, trigger);\n        }\n    }\n    _onProgress(event) {\n        const detail = {\n            seekable: this._getSeekableRange(),\n            buffered: new _vidstack_Nm9OJy7x_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, this._played)\n        }, trigger = event ? this._createEvent(event) : void 0;\n        this._notify(\"progress\", detail, trigger);\n    }\n    _onPlayerStateChange(event) {\n        const state = this._player.playerState, PlayerState = chrome.cast.media.PlayerState;\n        this._isIdle = state === PlayerState.IDLE;\n        if (state === PlayerState.PAUSED) return;\n        const trigger = this._createEvent(event);\n        switch(state){\n            case PlayerState.PLAYING:\n                this._notify(\"playing\", void 0, trigger);\n                break;\n            case PlayerState.BUFFERING:\n                this._notify(\"waiting\", void 0, trigger);\n                break;\n            case PlayerState.IDLE:\n                this._timeRAF._stop();\n                this._notify(\"pause\");\n                this._notify(\"end\");\n                break;\n        }\n    }\n    _getSeekableRange() {\n        return this._player.liveSeekableRange ? new _vidstack_Nm9OJy7x_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(this._player.liveSeekableRange.start, this._player.liveSeekableRange.end) : this._seekableRange;\n    }\n    _createEvent(detail) {\n        return detail instanceof Event ? detail : new _vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.DOMEvent(detail.type, {\n            detail\n        });\n    }\n    _buildMediaInfo(src) {\n        const { streamType, title, poster } = this._ctx.$state;\n        return new GoogleCastMediaInfoBuilder(src)._setMetadata(title(), poster())._setStreamType(streamType())._setTracks(this._tracks._getLocalTextTracks()).build();\n    }\n    _buildLoadRequest(src) {\n        var _this__reloadInfo, _this__reloadInfo1;\n        const mediaInfo = this._buildMediaInfo(src), request = new chrome.cast.media.LoadRequest(mediaInfo), savedState = this._ctx.$state.savedState();\n        var _this__reloadInfo_paused;\n        request.autoplay = ((_this__reloadInfo_paused = (_this__reloadInfo = this._reloadInfo) === null || _this__reloadInfo === void 0 ? void 0 : _this__reloadInfo.paused) !== null && _this__reloadInfo_paused !== void 0 ? _this__reloadInfo_paused : savedState === null || savedState === void 0 ? void 0 : savedState.paused) === false;\n        var _this__reloadInfo_time, _ref;\n        request.currentTime = (_ref = (_this__reloadInfo_time = (_this__reloadInfo1 = this._reloadInfo) === null || _this__reloadInfo1 === void 0 ? void 0 : _this__reloadInfo1.time) !== null && _this__reloadInfo_time !== void 0 ? _this__reloadInfo_time : savedState === null || savedState === void 0 ? void 0 : savedState.currentTime) !== null && _ref !== void 0 ? _ref : 0;\n        return request;\n    }\n    async _reload(paused, time) {\n        const src = (0,_vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.peek)(this._ctx.$state.source);\n        this._reloadInfo = {\n            src,\n            paused,\n            time\n        };\n        await this.loadSource(src);\n    }\n    _onNewLocalTracks() {\n        this._reload(this._player.isPaused, this._player.currentTime).catch((error)=>{\n            {\n                var _this__ctx_logger;\n                (_this__ctx_logger = this._ctx.logger) === null || _this__ctx_logger === void 0 ? void 0 : _this__ctx_logger.errorGroup(\"[vidstack] cast failed to load new local tracks\").labelledLog(\"Error\", error).dispatch();\n            }\n        });\n    }\n    constructor(_player, _ctx){\n        this._player = _player;\n        this._ctx = _ctx;\n        this.$$PROVIDER_TYPE = \"GOOGLE_CAST\";\n        this.scope = (0,_vidstack_3hs3_8i_js__WEBPACK_IMPORTED_MODULE_1__.createScope)();\n        this._currentSrc = null;\n        this._state = \"disconnected\";\n        this._currentTime = 0;\n        this._played = 0;\n        this._seekableRange = new _vidstack_Nm9OJy7x_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, 0);\n        this._timeRAF = new _vidstack_Nm9OJy7x_js__WEBPACK_IMPORTED_MODULE_2__.RAFLoop(this._onAnimationFrame.bind(this));\n        this._reloadInfo = null;\n        this._isIdle = false;\n        this._tracks = new GoogleCastTracksManager(this._player, this._ctx, this._onNewLocalTracks.bind(this));\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Admlkc3RhY2svcmVhY3QvZGV2L2NodW5rcy92aWRzdGFjay1PcVVHOFZzbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozt3RUFFc0g7QUFDOUM7QUFDd0Y7QUFDako7QUFDVztBQUUxQixNQUFNaUI7SUFJSkMsUUFBUTtRQUNOLE9BQU8sSUFBSSxDQUFDQyxLQUFLO0lBQ25CO0lBQ0FDLGVBQWVDLFVBQVUsRUFBRTtRQUN6QixJQUFJQSxXQUFXQyxRQUFRLENBQUMsU0FBUztZQUMvQixJQUFJLENBQUNILEtBQUssQ0FBQ0UsVUFBVSxHQUFHRSxPQUFPQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsVUFBVSxDQUFDQyxJQUFJO1FBQzNELE9BQU87WUFDTCxJQUFJLENBQUNSLEtBQUssQ0FBQ0UsVUFBVSxHQUFHRSxPQUFPQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsVUFBVSxDQUFDRSxRQUFRO1FBQy9EO1FBQ0EsT0FBTyxJQUFJO0lBQ2I7SUFDQUMsV0FBV0MsTUFBTSxFQUFFO1FBQ2pCLElBQUksQ0FBQ1gsS0FBSyxDQUFDVyxNQUFNLEdBQUdBLE9BQU9DLEdBQUcsQ0FBQyxJQUFJLENBQUNDLGVBQWU7UUFDbkQsT0FBTyxJQUFJO0lBQ2I7SUFDQUMsYUFBYUMsS0FBSyxFQUFFQyxNQUFNLEVBQUU7UUFDMUIsSUFBSSxDQUFDaEIsS0FBSyxDQUFDaUIsUUFBUSxHQUFHLElBQUliLE9BQU9DLElBQUksQ0FBQ0MsS0FBSyxDQUFDWSxvQkFBb0I7UUFDaEUsSUFBSSxDQUFDbEIsS0FBSyxDQUFDaUIsUUFBUSxDQUFDRixLQUFLLEdBQUdBO1FBQzVCLElBQUksQ0FBQ2YsS0FBSyxDQUFDaUIsUUFBUSxDQUFDRSxNQUFNLEdBQUc7WUFBQztnQkFBRUMsS0FBS0o7WUFBTztTQUFFO1FBQzlDLE9BQU8sSUFBSTtJQUNiO0lBQ0FILGdCQUFnQlEsS0FBSyxFQUFFQyxPQUFPLEVBQUU7UUFDOUIsTUFBTUMsWUFBWSxJ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QUFJLENBQUNnTixpQkFBaUIsQ0FBQ3pKLElBQUksQ0FBQyxJQUFJO1FBQzVELElBQUksQ0FBQytILFdBQVcsR0FBRztRQUNuQixJQUFJLENBQUNwQixPQUFPLEdBQUc7UUFDZixJQUFJLENBQUNsQyxPQUFPLEdBQUcsSUFBSTdFLHdCQUNqQixJQUFJLENBQUN1RSxPQUFPLEVBQ1osSUFBSSxDQUFDbEUsSUFBSSxFQUNULElBQUksQ0FBQzZCLGlCQUFpQixDQUFDOUIsSUFBSSxDQUFDLElBQUk7SUFFcEM7QUFnVEY7QUFFOEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aWRzdGFjay9yZWFjdC9kZXYvY2h1bmtzL3ZpZHN0YWNrLU9xVUc4VnNuLmpzPzBjM2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgbGlzdGVuRXZlbnQsIGVmZmVjdCwgdW50cmFjaywgY3JlYXRlU2NvcGUsIGtleXNPZiwgb25EaXNwb3NlLCBET01FdmVudCwgcGVlayB9IGZyb20gJy4vdmlkc3RhY2stM2hzMy04aV8uanMnO1xuaW1wb3J0IHsgTGlzdFN5bWJvbCwgVGltZVJhbmdlLCBSQUZMb29wIH0gZnJvbSAnLi92aWRzdGFjay1ObTlPSnk3eC5qcyc7XG5pbXBvcnQgeyBnZXRDYXN0U2Vzc2lvbk1lZGlhLCBnZXRDYXN0Q29udGV4dCwgZ2V0Q2FzdFNlc3Npb24sIGhhc0FjdGl2ZUNhc3RTZXNzaW9uLCBsaXN0ZW5DYXN0Q29udGV4dEV2ZW50LCBnZXRDYXN0RXJyb3JNZXNzYWdlIH0gZnJvbSAnLi92aWRzdGFjay1WR2JkM1FfYi5qcyc7XG5pbXBvcnQgJ3JlYWN0JztcbmltcG9ydCAnQGZsb2F0aW5nLXVpL2RvbSc7XG5cbmNsYXNzIEdvb2dsZUNhc3RNZWRpYUluZm9CdWlsZGVyIHtcbiAgY29uc3RydWN0b3Ioc3JjKSB7XG4gICAgdGhpcy5faW5mbyA9IG5ldyBjaHJvbWUuY2FzdC5tZWRpYS5NZWRpYUluZm8oc3JjLnNyYywgc3JjLnR5cGUpO1xuICB9XG4gIGJ1aWxkKCkge1xuICAgIHJldHVybiB0aGlzLl9pbmZvO1xuICB9XG4gIF9zZXRTdHJlYW1UeXBlKHN0cmVhbVR5cGUpIHtcbiAgICBpZiAoc3RyZWFtVHlwZS5pbmNsdWRlcyhcImxpdmVcIikpIHtcbiAgICAgIHRoaXMuX2luZm8uc3RyZWFtVHlwZSA9IGNocm9tZS5jYXN0Lm1lZGlhLlN0cmVhbVR5cGUuTElWRTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faW5mby5zdHJlYW1UeXBlID0gY2hyb21lLmNhc3QubWVkaWEuU3RyZWFtVHlwZS5CVUZGRVJFRDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgX3NldFRyYWNrcyh0cmFja3MpIHtcbiAgICB0aGlzLl9pbmZvLnRyYWNrcyA9IHRyYWNrcy5tYXAodGhpcy5fYnVpbGRDYXN0VHJhY2spO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIF9zZXRNZXRhZGF0YSh0aXRsZSwgcG9zdGVyKSB7XG4gICAgdGhpcy5faW5mby5tZXRhZGF0YSA9IG5ldyBjaHJvbWUuY2FzdC5tZWRpYS5HZW5lcmljTWVkaWFNZXRhZGF0YSgpO1xuICAgIHRoaXMuX2luZm8ubWV0YWRhdGEudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLl9pbmZvLm1ldGFkYXRhLmltYWdlcyA9IFt7IHVybDogcG9zdGVyIH1dO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIF9idWlsZENhc3RUcmFjayh0cmFjaywgdHJhY2tJZCkge1xuICAgIGNvbnN0IGNhc3RUcmFjayA9IG5ldyBjaHJvbWUuY2FzdC5tZWRpYS5UcmFjayh0cmFja0lkLCBjaHJvbWUuY2FzdC5tZWRpYS5UcmFja1R5cGUuVEVYVCk7XG4gICAgY2FzdFRyYWNrLm5hbWUgPSB0cmFjay5sYWJlbDtcbiAgICBjYXN0VHJhY2sudHJhY2tDb250ZW50SWQgPSB0cmFjay5zcmM7XG4gICAgY2FzdFRyYWNrLnRyYWNrQ29udGVudFR5cGUgPSBcInRleHQvdnR0XCI7XG4gICAgY2FzdFRyYWNrLmxhbmd1YWdlID0gdHJhY2subGFuZ3VhZ2U7XG4gICAgY2FzdFRyYWNrLnN1YnR5cGUgPSB0cmFjay5raW5kLnRvVXBwZXJDYXNlKCk7XG4gICAgcmV0dXJuIGNhc3RUcmFjaztcbiAgfVxufVxuXG5jb25zdCBSRU1PVEVfVFJBQ0tfVEVYVF9UWVBFID0gY2hyb21lLmNhc3QubWVkaWEuVHJhY2tUeXBlLlRFWFQsIFJFTU9URV9UUkFDS19BVURJT19UWVBFID0gY2hyb21lLmNhc3QubWVkaWEuVHJhY2tUeXBlLkFVRElPO1xuY2xhc3MgR29vZ2xlQ2FzdFRyYWNrc01hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihfY2FzdCwgX2N0eCwgX29uTmV3TG9jYWxUcmFja3MpIHtcbiAgICB0aGlzLl9jYXN0ID0gX2Nhc3Q7XG4gICAgdGhpcy5fY3R4ID0gX2N0eDtcbiAgICB0aGlzLl9vbk5ld0xvY2FsVHJhY2tzID0gX29uTmV3TG9jYWxUcmFja3M7XG4gIH1cbiAgX3NldHVwKCkge1xuICAgIGNvbnN0IHN5bmNSZW1vdGVBY3RpdmVJZHMgPSB0aGlzLl9zeW5jUmVtb3RlQWN0aXZlSWRzLmJpbmQodGhpcyk7XG4gICAgbGlzdGVuRXZlbnQodGhpcy5fY3R4LmF1ZGlvVHJhY2tzLCBcImNoYW5nZVwiLCBzeW5jUmVtb3RlQWN0aXZlSWRzKTtcbiAgICBsaXN0ZW5FdmVudCh0aGlzLl9jdHgudGV4dFRyYWNrcywgXCJtb2RlLWNoYW5nZVwiLCBzeW5jUmVtb3RlQWN0aXZlSWRzKTtcbiAgICBlZmZlY3QodGhpcy5fc3luY0xvY2FsVHJhY2tzLmJpbmQodGhpcykpO1xuICB9XG4gIF9nZXRMb2NhbFRleHRUcmFja3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N0eC4kc3RhdGUudGV4dFRyYWNrcygpLmZpbHRlcigodHJhY2spID0+IHRyYWNrLnNyYyAmJiB0cmFjay50eXBlID09PSBcInZ0dFwiKTtcbiAgfVxuICBfZ2V0TG9jYWxBdWRpb1RyYWNrcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY3R4LiRzdGF0ZS5hdWRpb1RyYWNrcygpO1xuICB9XG4gIF9nZXRSZW1vdGVUcmFja3ModHlwZSkge1xuICAgIGNvbnN0IHRyYWNrcyA9IHRoaXMuX2Nhc3QubWVkaWFJbmZvPy50cmFja3MgPz8gW107XG4gICAgcmV0dXJuIHR5cGUgPyB0cmFja3MuZmlsdGVyKCh0cmFjaykgPT4gdHJhY2sudHlwZSA9PT0gdHlwZSkgOiB0cmFja3M7XG4gIH1cbiAgX2dldFJlbW90ZUFjdGl2ZUlkcygpIHtcbiAgICBjb25zdCBhY3RpdmVJZHMgPSBbXSwgYWN0aXZlTG9jYWxBdWRpb1RyYWNrID0gdGhpcy5fZ2V0TG9jYWxBdWRpb1RyYWNrcygpLmZpbmQoKHRyYWNrKSA9PiB0cmFjay5zZWxlY3RlZCksIGFjdGl2ZUxvY2FsVGV4dFRyYWNrcyA9IHRoaXMuX2dldExvY2FsVGV4dFRyYWNrcygpLmZpbHRlcihcbiAgICAgICh0cmFjaykgPT4gdHJhY2subW9kZSA9PT0gXCJzaG93aW5nXCJcbiAgICApO1xuICAgIGlmIChhY3RpdmVMb2NhbEF1ZGlvVHJhY2spIHtcbiAgICAgIGNvbnN0IHJlbW90ZUF1ZGlvVHJhY2tzID0gdGhpcy5fZ2V0UmVtb3RlVHJhY2tzKFJFTU9URV9UUkFDS19BVURJT19UWVBFKSwgcmVtb3RlQXVkaW9UcmFjayA9IHRoaXMuX2ZpbmRSZW1vdGVUcmFjayhyZW1vdGVBdWRpb1RyYWNrcywgYWN0aXZlTG9jYWxBdWRpb1RyYWNrKTtcbiAgICAgIGlmIChyZW1vdGVBdWRpb1RyYWNrKSBhY3RpdmVJZHMucHVzaChyZW1vdGVBdWRpb1RyYWNrLnRyYWNrSWQpO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlTG9jYWxUZXh0VHJhY2tzPy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHJlbW90ZVRleHRUcmFja3MgPSB0aGlzLl9nZXRSZW1vdGVUcmFja3MoUkVNT1RFX1RSQUNLX1RFWFRfVFlQRSk7XG4gICAgICBpZiAocmVtb3RlVGV4dFRyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChjb25zdCBsb2NhbFRyYWNrIG9mIGFjdGl2ZUxvY2FsVGV4dFRyYWNrcykge1xuICAgICAgICAgIGNvbnN0IHJlbW90ZVRleHRUcmFjayA9IHRoaXMuX2ZpbmRSZW1vdGVUcmFjayhyZW1vdGVUZXh0VHJhY2tzLCBsb2NhbFRyYWNrKTtcbiAgICAgICAgICBpZiAocmVtb3RlVGV4dFRyYWNrKSBhY3RpdmVJZHMucHVzaChyZW1vdGVUZXh0VHJhY2sudHJhY2tJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFjdGl2ZUlkcztcbiAgfVxuICBfc3luY0xvY2FsVHJhY2tzKCkge1xuICAgIGNvbnN0IGxvY2FsVGV4dFRyYWNrcyA9IHRoaXMuX2dldExvY2FsVGV4dFRyYWNrcygpO1xuICAgIGlmICghdGhpcy5fY2FzdC5pc01lZGlhTG9hZGVkKSByZXR1cm47XG4gICAgY29uc3QgcmVtb3RlVGV4dFRyYWNrcyA9IHRoaXMuX2dldFJlbW90ZVRyYWNrcyhSRU1PVEVfVFJBQ0tfVEVYVF9UWVBFKTtcbiAgICBmb3IgKGNvbnN0IGxvY2FsVHJhY2sgb2YgbG9jYWxUZXh0VHJhY2tzKSB7XG4gICAgICBjb25zdCBoYXNSZW1vdGVUcmFjayA9IHRoaXMuX2ZpbmRSZW1vdGVUcmFjayhyZW1vdGVUZXh0VHJhY2tzLCBsb2NhbFRyYWNrKTtcbiAgICAgIGlmICghaGFzUmVtb3RlVHJhY2spIHtcbiAgICAgICAgdW50cmFjaygoKSA9PiB0aGlzLl9vbk5ld0xvY2FsVHJhY2tzPy4oKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBfc3luY1JlbW90ZVRyYWNrcyhldmVudCkge1xuICAgIGlmICghdGhpcy5fY2FzdC5pc01lZGlhTG9hZGVkKSByZXR1cm47XG4gICAgY29uc3QgbG9jYWxBdWRpb1RyYWNrcyA9IHRoaXMuX2dldExvY2FsQXVkaW9UcmFja3MoKSwgbG9jYWxUZXh0VHJhY2tzID0gdGhpcy5fZ2V0TG9jYWxUZXh0VHJhY2tzKCksIHJlbW90ZUF1ZGlvVHJhY2tzID0gdGhpcy5fZ2V0UmVtb3RlVHJhY2tzKFJFTU9URV9UUkFDS19BVURJT19UWVBFKSwgcmVtb3RlVGV4dFRyYWNrcyA9IHRoaXMuX2dldFJlbW90ZVRyYWNrcyhSRU1PVEVfVFJBQ0tfVEVYVF9UWVBFKTtcbiAgICBmb3IgKGNvbnN0IHJlbW90ZUF1ZGlvVHJhY2sgb2YgcmVtb3RlQXVkaW9UcmFja3MpIHtcbiAgICAgIGNvbnN0IGhhc0xvY2FsVHJhY2sgPSB0aGlzLl9maW5kTG9jYWxUcmFjayhsb2NhbEF1ZGlvVHJhY2tzLCByZW1vdGVBdWRpb1RyYWNrKTtcbiAgICAgIGlmIChoYXNMb2NhbFRyYWNrKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IGxvY2FsQXVkaW9UcmFjayA9IHtcbiAgICAgICAgaWQ6IHJlbW90ZUF1ZGlvVHJhY2sudHJhY2tJZC50b1N0cmluZygpLFxuICAgICAgICBsYWJlbDogcmVtb3RlQXVkaW9UcmFjay5uYW1lLFxuICAgICAgICBsYW5ndWFnZTogcmVtb3RlQXVkaW9UcmFjay5sYW5ndWFnZSxcbiAgICAgICAga2luZDogcmVtb3RlQXVkaW9UcmFjay5zdWJ0eXBlID8/IFwibWFpblwiLFxuICAgICAgICBzZWxlY3RlZDogZmFsc2VcbiAgICAgIH07XG4gICAgICB0aGlzLl9jdHguYXVkaW9UcmFja3NbTGlzdFN5bWJvbC5fYWRkXShsb2NhbEF1ZGlvVHJhY2ssIGV2ZW50KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCByZW1vdGVUZXh0VHJhY2sgb2YgcmVtb3RlVGV4dFRyYWNrcykge1xuICAgICAgY29uc3QgaGFzTG9jYWxUcmFjayA9IHRoaXMuX2ZpbmRMb2NhbFRyYWNrKGxvY2FsVGV4dFRyYWNrcywgcmVtb3RlVGV4dFRyYWNrKTtcbiAgICAgIGlmIChoYXNMb2NhbFRyYWNrKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IGxvY2FsVGV4dFRyYWNrID0ge1xuICAgICAgICBpZDogcmVtb3RlVGV4dFRyYWNrLnRyYWNrSWQudG9TdHJpbmcoKSxcbiAgICAgICAgc3JjOiByZW1vdGVUZXh0VHJhY2sudHJhY2tDb250ZW50SWQsXG4gICAgICAgIGxhYmVsOiByZW1vdGVUZXh0VHJhY2submFtZSxcbiAgICAgICAgbGFuZ3VhZ2U6IHJlbW90ZVRleHRUcmFjay5sYW5ndWFnZSxcbiAgICAgICAga2luZDogcmVtb3RlVGV4dFRyYWNrLnN1YnR5cGUudG9Mb3dlckNhc2UoKVxuICAgICAgfTtcbiAgICAgIHRoaXMuX2N0eC50ZXh0VHJhY2tzLmFkZChsb2NhbFRleHRUcmFjaywgZXZlbnQpO1xuICAgIH1cbiAgfVxuICBfc3luY1JlbW90ZUFjdGl2ZUlkcyhldmVudCkge1xuICAgIGlmICghdGhpcy5fY2FzdC5pc01lZGlhTG9hZGVkKSByZXR1cm47XG4gICAgY29uc3QgYWN0aXZlSWRzID0gdGhpcy5fZ2V0UmVtb3RlQWN0aXZlSWRzKCksIGVkaXRSZXF1ZXN0ID0gbmV3IGNocm9tZS5jYXN0Lm1lZGlhLkVkaXRUcmFja3NJbmZvUmVxdWVzdChhY3RpdmVJZHMpO1xuICAgIHRoaXMuX2VkaXRUcmFja3NJbmZvKGVkaXRSZXF1ZXN0KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIHtcbiAgICAgICAgdGhpcy5fY3R4LmxvZ2dlcj8uZXJyb3JHcm91cChcIlt2aWRzdGFja10gZmFpbGVkIHRvIGVkaXQgY2FzdCB0cmFja3MgaW5mb1wiKS5sYWJlbGxlZExvZyhcIkVkaXQgUmVxdWVzdFwiLCBlZGl0UmVxdWVzdCkubGFiZWxsZWRMb2coXCJFcnJvclwiLCBlcnJvcikuZGlzcGF0Y2goKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBfZWRpdFRyYWNrc0luZm8ocmVxdWVzdCkge1xuICAgIGNvbnN0IG1lZGlhID0gZ2V0Q2FzdFNlc3Npb25NZWRpYSgpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBtZWRpYT8uZWRpdFRyYWNrc0luZm8ocmVxdWVzdCwgcmVzb2x2ZSwgcmVqZWN0KSk7XG4gIH1cbiAgX2ZpbmRMb2NhbFRyYWNrKGxvY2FsVHJhY2tzLCByZW1vdGVUcmFjaykge1xuICAgIHJldHVybiBsb2NhbFRyYWNrcy5maW5kKChsb2NhbFRyYWNrKSA9PiB0aGlzLl9pc01hdGNoKGxvY2FsVHJhY2ssIHJlbW90ZVRyYWNrKSk7XG4gIH1cbiAgX2ZpbmRSZW1vdGVUcmFjayhyZW1vdGVUcmFja3MsIGxvY2FsVHJhY2spIHtcbiAgICByZXR1cm4gcmVtb3RlVHJhY2tzLmZpbmQoKHJlbW90ZVRyYWNrKSA9PiB0aGlzLl9pc01hdGNoKGxvY2FsVHJhY2ssIHJlbW90ZVRyYWNrKSk7XG4gIH1cbiAgLy8gTm90ZTogd2UgY2FuJ3QgcmVseSBvbiBpZCBtYXRjaGluZyBiZWNhdXNlIHRoZXkgd2lsbCBkaWZmZXIgYmV0d2VlbiBsb2NhbC9yZW1vdGUuIEEgbG9jYWxcbiAgLy8gdHJhY2sgaWQgbWlnaHQgbm90IGV2ZW4gZXhpc3QuXG4gIF9pc01hdGNoKGxvY2FsVHJhY2ssIHJlbW90ZVRyYWNrKSB7XG4gICAgcmV0dXJuIHJlbW90ZVRyYWNrLm5hbWUgPT09IGxvY2FsVHJhY2subGFiZWwgJiYgcmVtb3RlVHJhY2subGFuZ3VhZ2UgPT09IGxvY2FsVHJhY2subGFuZ3VhZ2UgJiYgcmVtb3RlVHJhY2suc3VidHlwZS50b0xvd2VyQ2FzZSgpID09PSBsb2NhbFRyYWNrLmtpbmQudG9Mb3dlckNhc2UoKTtcbiAgfVxufVxuXG5jbGFzcyBHb29nbGVDYXN0UHJvdmlkZXIge1xuICBjb25zdHJ1Y3RvcihfcGxheWVyLCBfY3R4KSB7XG4gICAgdGhpcy5fcGxheWVyID0gX3BsYXllcjtcbiAgICB0aGlzLl9jdHggPSBfY3R4O1xuICAgIHRoaXMuJCRQUk9WSURFUl9UWVBFID0gXCJHT09HTEVfQ0FTVFwiO1xuICAgIHRoaXMuc2NvcGUgPSBjcmVhdGVTY29wZSgpO1xuICAgIHRoaXMuX2N1cnJlbnRTcmMgPSBudWxsO1xuICAgIHRoaXMuX3N0YXRlID0gXCJkaXNjb25uZWN0ZWRcIjtcbiAgICB0aGlzLl9jdXJyZW50VGltZSA9IDA7XG4gICAgdGhpcy5fcGxheWVkID0gMDtcbiAgICB0aGlzLl9zZWVrYWJsZVJhbmdlID0gbmV3IFRpbWVSYW5nZSgwLCAwKTtcbiAgICB0aGlzLl90aW1lUkFGID0gbmV3IFJBRkxvb3AodGhpcy5fb25BbmltYXRpb25GcmFtZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9yZWxvYWRJbmZvID0gbnVsbDtcbiAgICB0aGlzLl9pc0lkbGUgPSBmYWxzZTtcbiAgICB0aGlzLl90cmFja3MgPSBuZXcgR29vZ2xlQ2FzdFRyYWNrc01hbmFnZXIoXG4gICAgICB0aGlzLl9wbGF5ZXIsXG4gICAgICB0aGlzLl9jdHgsXG4gICAgICB0aGlzLl9vbk5ld0xvY2FsVHJhY2tzLmJpbmQodGhpcylcbiAgICApO1xuICB9XG4gIGdldCBfbm90aWZ5KCkge1xuICAgIHJldHVybiB0aGlzLl9jdHguZGVsZWdhdGUuX25vdGlmeTtcbiAgfVxuICBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gXCJnb29nbGUtY2FzdFwiO1xuICB9XG4gIGdldCBjdXJyZW50U3JjKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50U3JjO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgR29vZ2xlIENhc3QgcmVtb3RlIHBsYXllci5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vY2FzdC9kb2NzL3JlZmVyZW5jZS93ZWJfc2VuZGVyL2Nhc3QuZnJhbWV3b3JrLlJlbW90ZVBsYXllcn1cbiAgICovXG4gIGdldCBwbGF5ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BsYXllcjtcbiAgfVxuICAvKipcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vY2FzdC9kb2NzL3JlZmVyZW5jZS93ZWJfc2VuZGVyL2Nhc3QuZnJhbWV3b3JrLkNhc3RDb250ZXh0fVxuICAgKi9cbiAgZ2V0IGNhc3QoKSB7XG4gICAgcmV0dXJuIGdldENhc3RDb250ZXh0KCk7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2Nhc3QvZG9jcy9yZWZlcmVuY2Uvd2ViX3NlbmRlci9jYXN0LmZyYW1ld29yay5DYXN0U2Vzc2lvbn1cbiAgICovXG4gIGdldCBzZXNzaW9uKCkge1xuICAgIHJldHVybiBnZXRDYXN0U2Vzc2lvbigpO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9jYXN0L2RvY3MvcmVmZXJlbmNlL3dlYl9zZW5kZXIvY2hyb21lLmNhc3QubWVkaWEuTWVkaWF9XG4gICAqL1xuICBnZXQgbWVkaWEoKSB7XG4gICAgcmV0dXJuIGdldENhc3RTZXNzaW9uTWVkaWEoKTtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciB0aGUgY3VycmVudCBHb29nbGUgQ2FzdCBzZXNzaW9uIGJlbG9uZ3MgdG8gdGhpcyBwcm92aWRlci5cbiAgICovXG4gIGdldCBoYXNBY3RpdmVTZXNzaW9uKCkge1xuICAgIHJldHVybiBoYXNBY3RpdmVDYXN0U2Vzc2lvbih0aGlzLl9jdXJyZW50U3JjKTtcbiAgfVxuICBzZXR1cCgpIHtcbiAgICB0aGlzLl9hdHRhY2hDYXN0Q29udGV4dEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fYXR0YWNoQ2FzdFBsYXllckV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fdHJhY2tzLl9zZXR1cCgpO1xuICAgIHRoaXMuX25vdGlmeShcInByb3ZpZGVyLXNldHVwXCIsIHRoaXMpO1xuICB9XG4gIF9hdHRhY2hDYXN0Q29udGV4dEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGxpc3RlbkNhc3RDb250ZXh0RXZlbnQoXG4gICAgICBjYXN0LmZyYW1ld29yay5DYXN0Q29udGV4dEV2ZW50VHlwZS5DQVNUX1NUQVRFX0NIQU5HRUQsXG4gICAgICB0aGlzLl9vbkNhc3RTdGF0ZUNoYW5nZS5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuICBfYXR0YWNoQ2FzdFBsYXllckV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IEV2ZW50MiA9IGNhc3QuZnJhbWV3b3JrLlJlbW90ZVBsYXllckV2ZW50VHlwZSwgaGFuZGxlcnMgPSB7XG4gICAgICBbRXZlbnQyLklTX0NPTk5FQ1RFRF9DSEFOR0VEXTogdGhpcy5fb25DYXN0U3RhdGVDaGFuZ2UsXG4gICAgICBbRXZlbnQyLklTX01FRElBX0xPQURFRF9DSEFOR0VEXTogdGhpcy5fb25NZWRpYUxvYWRlZENoYW5nZSxcbiAgICAgIFtFdmVudDIuQ0FOX0NPTlRST0xfVk9MVU1FX0NIQU5HRURdOiB0aGlzLl9vbkNhbkNvbnRyb2xWb2x1bWVDaGFuZ2UsXG4gICAgICBbRXZlbnQyLkNBTl9TRUVLX0NIQU5HRURdOiB0aGlzLl9vbkNhblNlZWtDaGFuZ2UsXG4gICAgICBbRXZlbnQyLkRVUkFUSU9OX0NIQU5HRURdOiB0aGlzLl9vbkR1cmF0aW9uQ2hhbmdlLFxuICAgICAgW0V2ZW50Mi5JU19NVVRFRF9DSEFOR0VEXTogdGhpcy5fb25Wb2x1bWVDaGFuZ2UsXG4gICAgICBbRXZlbnQyLlZPTFVNRV9MRVZFTF9DSEFOR0VEXTogdGhpcy5fb25Wb2x1bWVDaGFuZ2UsXG4gICAgICBbRXZlbnQyLklTX1BBVVNFRF9DSEFOR0VEXTogdGhpcy5fb25QYXVzZWRDaGFuZ2UsXG4gICAgICBbRXZlbnQyLkxJVkVfU0VFS0FCTEVfUkFOR0VfQ0hBTkdFRF06IHRoaXMuX29uUHJvZ3Jlc3MsXG4gICAgICBbRXZlbnQyLlBMQVlFUl9TVEFURV9DSEFOR0VEXTogdGhpcy5fb25QbGF5ZXJTdGF0ZUNoYW5nZVxuICAgIH07XG4gICAgdGhpcy5fcGxheWVyRXZlbnRIYW5kbGVycyA9IGhhbmRsZXJzO1xuICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9vblJlbW90ZVBsYXllckV2ZW50LmJpbmQodGhpcyk7XG4gICAgZm9yIChjb25zdCB0eXBlIG9mIGtleXNPZihoYW5kbGVycykpIHtcbiAgICAgIHRoaXMuX3BsYXllci5jb250cm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcik7XG4gICAgfVxuICAgIG9uRGlzcG9zZSgoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHR5cGUgb2Yga2V5c09mKGhhbmRsZXJzKSkge1xuICAgICAgICB0aGlzLl9wbGF5ZXIuY29udHJvbGxlci5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGFzeW5jIHBsYXkoKSB7XG4gICAgaWYgKCF0aGlzLl9wbGF5ZXIuaXNQYXVzZWQgJiYgIXRoaXMuX2lzSWRsZSkgcmV0dXJuO1xuICAgIGlmICh0aGlzLl9pc0lkbGUpIHtcbiAgICAgIGF3YWl0IHRoaXMuX3JlbG9hZChmYWxzZSwgMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3BsYXllci5jb250cm9sbGVyPy5wbGF5T3JQYXVzZSgpO1xuICB9XG4gIGFzeW5jIHBhdXNlKCkge1xuICAgIGlmICh0aGlzLl9wbGF5ZXIuaXNQYXVzZWQpIHJldHVybjtcbiAgICB0aGlzLl9wbGF5ZXIuY29udHJvbGxlcj8ucGxheU9yUGF1c2UoKTtcbiAgfVxuICBnZXRNZWRpYVN0YXR1cyhyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMubWVkaWE/LmdldFN0YXR1cyhyZXF1ZXN0LCByZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9XG4gIHNldE11dGVkKG11dGVkKSB7XG4gICAgY29uc3QgaGFzQ2hhbmdlZCA9IG11dGVkICYmICF0aGlzLl9wbGF5ZXIuaXNNdXRlZCB8fCAhbXV0ZWQgJiYgdGhpcy5fcGxheWVyLmlzTXV0ZWQ7XG4gICAgaWYgKGhhc0NoYW5nZWQpIHRoaXMuX3BsYXllci5jb250cm9sbGVyPy5tdXRlT3JVbm11dGUoKTtcbiAgfVxuICBzZXRDdXJyZW50VGltZSh0aW1lKSB7XG4gICAgdGhpcy5fcGxheWVyLmN1cnJlbnRUaW1lID0gdGltZTtcbiAgICB0aGlzLl9ub3RpZnkoXCJzZWVraW5nXCIsIHRpbWUpO1xuICAgIHRoaXMuX3BsYXllci5jb250cm9sbGVyPy5zZWVrKCk7XG4gIH1cbiAgc2V0Vm9sdW1lKHZvbHVtZSkge1xuICAgIHRoaXMuX3BsYXllci52b2x1bWVMZXZlbCA9IHZvbHVtZTtcbiAgICB0aGlzLl9wbGF5ZXIuY29udHJvbGxlcj8uc2V0Vm9sdW1lTGV2ZWwoKTtcbiAgfVxuICBhc3luYyBsb2FkU291cmNlKHNyYykge1xuICAgIGlmICh0aGlzLl9yZWxvYWRJbmZvPy5zcmMgIT09IHNyYykgdGhpcy5fcmVsb2FkSW5mbyA9IG51bGw7XG4gICAgaWYgKGhhc0FjdGl2ZUNhc3RTZXNzaW9uKHNyYykpIHtcbiAgICAgIHRoaXMuX3Jlc3VtZVNlc3Npb24oKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRTcmMgPSBzcmM7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX25vdGlmeShcImxvYWQtc3RhcnRcIik7XG4gICAgY29uc3QgbG9hZFJlcXVlc3QgPSB0aGlzLl9idWlsZExvYWRSZXF1ZXN0KHNyYyksIGVycm9yQ29kZSA9IGF3YWl0IHRoaXMuc2Vzc2lvbi5sb2FkTWVkaWEobG9hZFJlcXVlc3QpO1xuICAgIGlmIChlcnJvckNvZGUpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRTcmMgPSBudWxsO1xuICAgICAgdGhpcy5fbm90aWZ5KFwiZXJyb3JcIiwgRXJyb3IoZ2V0Q2FzdEVycm9yTWVzc2FnZShlcnJvckNvZGUpKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2N1cnJlbnRTcmMgPSBzcmM7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZXNldCgpO1xuICAgIHRoaXMuX2VuZFNlc3Npb24oKTtcbiAgfVxuICBfcmVzZXQoKSB7XG4gICAgaWYgKCF0aGlzLl9yZWxvYWRJbmZvKSB7XG4gICAgICB0aGlzLl9wbGF5ZWQgPSAwO1xuICAgICAgdGhpcy5fc2Vla2FibGVSYW5nZSA9IG5ldyBUaW1lUmFuZ2UoMCwgMCk7XG4gICAgfVxuICAgIHRoaXMuX3RpbWVSQUYuX3N0b3AoKTtcbiAgICB0aGlzLl9jdXJyZW50VGltZSA9IDA7XG4gICAgdGhpcy5fcmVsb2FkSW5mbyA9IG51bGw7XG4gIH1cbiAgX3Jlc3VtZVNlc3Npb24oKSB7XG4gICAgY29uc3QgcmVzdW1lU2Vzc2lvbkV2ZW50ID0gbmV3IERPTUV2ZW50KFwicmVzdW1lLXNlc3Npb25cIiwgeyBkZXRhaWw6IHRoaXMuc2Vzc2lvbiB9KTtcbiAgICB0aGlzLl9vbk1lZGlhTG9hZGVkQ2hhbmdlKHJlc3VtZVNlc3Npb25FdmVudCk7XG4gICAgY29uc3QgeyBtdXRlZCwgdm9sdW1lLCBzYXZlZFN0YXRlIH0gPSB0aGlzLl9jdHguJHN0YXRlLCBsb2NhbFN0YXRlID0gc2F2ZWRTdGF0ZSgpO1xuICAgIHRoaXMuc2V0Q3VycmVudFRpbWUoTWF0aC5tYXgodGhpcy5fcGxheWVyLmN1cnJlbnRUaW1lLCBsb2NhbFN0YXRlPy5jdXJyZW50VGltZSA/PyAwKSk7XG4gICAgdGhpcy5zZXRNdXRlZChtdXRlZCgpKTtcbiAgICB0aGlzLnNldFZvbHVtZSh2b2x1bWUoKSk7XG4gICAgaWYgKGxvY2FsU3RhdGU/LnBhdXNlZCA9PT0gZmFsc2UpIHRoaXMucGxheSgpO1xuICB9XG4gIF9lbmRTZXNzaW9uKCkge1xuICAgIHRoaXMuY2FzdC5lbmRDdXJyZW50U2Vzc2lvbih0cnVlKTtcbiAgICBjb25zdCB7IHJlbW90ZVBsYXliYWNrTG9hZGVyIH0gPSB0aGlzLl9jdHguJHN0YXRlO1xuICAgIHJlbW90ZVBsYXliYWNrTG9hZGVyLnNldChudWxsKTtcbiAgfVxuICBfZGlzY29ubmVjdEZyb21SZWNlaXZlcigpIHtcbiAgICBjb25zdCB7IHNhdmVkU3RhdGUgfSA9IHRoaXMuX2N0eC4kc3RhdGU7XG4gICAgc2F2ZWRTdGF0ZS5zZXQoe1xuICAgICAgcGF1c2VkOiB0aGlzLl9wbGF5ZXIuaXNQYXVzZWQsXG4gICAgICBjdXJyZW50VGltZTogdGhpcy5fcGxheWVyLmN1cnJlbnRUaW1lXG4gICAgfSk7XG4gICAgdGhpcy5fZW5kU2Vzc2lvbigpO1xuICB9XG4gIF9vbkFuaW1hdGlvbkZyYW1lKCkge1xuICAgIHRoaXMuX29uQ3VycmVudFRpbWVDaGFuZ2UoKTtcbiAgfVxuICBfb25SZW1vdGVQbGF5ZXJFdmVudChldmVudCkge1xuICAgIHRoaXMuX3BsYXllckV2ZW50SGFuZGxlcnNbZXZlbnQudHlwZV0uY2FsbCh0aGlzLCBldmVudCk7XG4gIH1cbiAgX29uQ2FzdFN0YXRlQ2hhbmdlKGRhdGEpIHtcbiAgICBjb25zdCBjYXN0U3RhdGUgPSB0aGlzLmNhc3QuZ2V0Q2FzdFN0YXRlKCksIHN0YXRlID0gY2FzdFN0YXRlID09PSBjYXN0LmZyYW1ld29yay5DYXN0U3RhdGUuQ09OTkVDVEVEID8gXCJjb25uZWN0ZWRcIiA6IGNhc3RTdGF0ZSA9PT0gY2FzdC5mcmFtZXdvcmsuQ2FzdFN0YXRlLkNPTk5FQ1RJTkcgPyBcImNvbm5lY3RpbmdcIiA6IFwiZGlzY29ubmVjdGVkXCI7XG4gICAgaWYgKHRoaXMuX3N0YXRlID09PSBzdGF0ZSkgcmV0dXJuO1xuICAgIGNvbnN0IGRldGFpbCA9IHsgdHlwZTogXCJnb29nbGUtY2FzdFwiLCBzdGF0ZSB9LCB0cmlnZ2VyID0gdGhpcy5fY3JlYXRlRXZlbnQoZGF0YSk7XG4gICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLl9ub3RpZnkoXCJyZW1vdGUtcGxheWJhY2stY2hhbmdlXCIsIGRldGFpbCwgdHJpZ2dlcik7XG4gICAgaWYgKHN0YXRlID09PSBcImRpc2Nvbm5lY3RlZFwiKSB7XG4gICAgICB0aGlzLl9kaXNjb25uZWN0RnJvbVJlY2VpdmVyKCk7XG4gICAgfVxuICB9XG4gIF9vbk1lZGlhTG9hZGVkQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgaGFzTG9hZGVkID0gISF0aGlzLl9wbGF5ZXIuaXNNZWRpYUxvYWRlZDtcbiAgICBpZiAoIWhhc0xvYWRlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHNyYyA9IHBlZWsodGhpcy5fY3R4LiRzdGF0ZS5zb3VyY2UpO1xuICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKHNyYyAhPT0gcGVlayh0aGlzLl9jdHguJHN0YXRlLnNvdXJjZSkgfHwgIXRoaXMuX3BsYXllci5pc01lZGlhTG9hZGVkKSByZXR1cm47XG4gICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLl9wbGF5ZXIuZHVyYXRpb247XG4gICAgICB0aGlzLl9zZWVrYWJsZVJhbmdlID0gbmV3IFRpbWVSYW5nZSgwLCBkdXJhdGlvbik7XG4gICAgICBjb25zdCBkZXRhaWwgPSB7XG4gICAgICAgIHByb3ZpZGVyOiB0aGlzLFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgYnVmZmVyZWQ6IG5ldyBUaW1lUmFuZ2UoMCwgMCksXG4gICAgICAgIHNlZWthYmxlOiB0aGlzLl9nZXRTZWVrYWJsZVJhbmdlKClcbiAgICAgIH0sIHRyaWdnZXIgPSB0aGlzLl9jcmVhdGVFdmVudChldmVudCk7XG4gICAgICB0aGlzLl9ub3RpZnkoXCJsb2FkZWQtbWV0YWRhdGFcIiwgdm9pZCAwLCB0cmlnZ2VyKTtcbiAgICAgIHRoaXMuX25vdGlmeShcImxvYWRlZC1kYXRhXCIsIHZvaWQgMCwgdHJpZ2dlcik7XG4gICAgICB0aGlzLl9ub3RpZnkoXCJjYW4tcGxheVwiLCBkZXRhaWwsIHRyaWdnZXIpO1xuICAgICAgdGhpcy5fb25DYW5Db250cm9sVm9sdW1lQ2hhbmdlKCk7XG4gICAgICB0aGlzLl9vbkNhblNlZWtDaGFuZ2UoZXZlbnQpO1xuICAgICAgY29uc3QgeyB2b2x1bWUsIG11dGVkIH0gPSB0aGlzLl9jdHguJHN0YXRlO1xuICAgICAgdGhpcy5zZXRWb2x1bWUodm9sdW1lKCkpO1xuICAgICAgdGhpcy5zZXRNdXRlZChtdXRlZCgpKTtcbiAgICAgIHRoaXMuX3RpbWVSQUYuX3N0YXJ0KCk7XG4gICAgICB0aGlzLl90cmFja3MuX3N5bmNSZW1vdGVUcmFja3ModHJpZ2dlcik7XG4gICAgICB0aGlzLl90cmFja3MuX3N5bmNSZW1vdGVBY3RpdmVJZHModHJpZ2dlcik7XG4gICAgfSk7XG4gIH1cbiAgX29uQ2FuQ29udHJvbFZvbHVtZUNoYW5nZSgpIHtcbiAgICB0aGlzLl9jdHguJHN0YXRlLmNhblNldFZvbHVtZS5zZXQodGhpcy5fcGxheWVyLmNhbkNvbnRyb2xWb2x1bWUpO1xuICB9XG4gIF9vbkNhblNlZWtDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB0cmlnZ2VyID0gdGhpcy5fY3JlYXRlRXZlbnQoZXZlbnQpO1xuICAgIHRoaXMuX25vdGlmeShcInN0cmVhbS10eXBlLWNoYW5nZVwiLCB0aGlzLl9nZXRTdHJlYW1UeXBlKCksIHRyaWdnZXIpO1xuICB9XG4gIF9nZXRTdHJlYW1UeXBlKCkge1xuICAgIGNvbnN0IHN0cmVhbVR5cGUgPSB0aGlzLl9wbGF5ZXIubWVkaWFJbmZvPy5zdHJlYW1UeXBlO1xuICAgIHJldHVybiBzdHJlYW1UeXBlID09PSBjaHJvbWUuY2FzdC5tZWRpYS5TdHJlYW1UeXBlLkxJVkUgPyB0aGlzLl9wbGF5ZXIuY2FuU2VlayA/IFwibGl2ZTpkdnJcIiA6IFwibGl2ZVwiIDogXCJvbi1kZW1hbmRcIjtcbiAgfVxuICBfb25DdXJyZW50VGltZUNoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5fcmVsb2FkSW5mbykgcmV0dXJuO1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGhpcy5fcGxheWVyLmN1cnJlbnRUaW1lO1xuICAgIGlmIChjdXJyZW50VGltZSA9PT0gdGhpcy5fY3VycmVudFRpbWUpIHJldHVybjtcbiAgICB0aGlzLl9ub3RpZnkoXCJ0aW1lLWNoYW5nZVwiLCBjdXJyZW50VGltZSk7XG4gICAgaWYgKGN1cnJlbnRUaW1lID4gdGhpcy5fcGxheWVkKSB7XG4gICAgICB0aGlzLl9wbGF5ZWQgPSBjdXJyZW50VGltZTtcbiAgICAgIHRoaXMuX29uUHJvZ3Jlc3MoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2N0eC4kc3RhdGUuc2Vla2luZygpKSB7XG4gICAgICB0aGlzLl9ub3RpZnkoXCJzZWVrZWRcIiwgY3VycmVudFRpbWUpO1xuICAgIH1cbiAgICB0aGlzLl9jdXJyZW50VGltZSA9IGN1cnJlbnRUaW1lO1xuICB9XG4gIF9vbkR1cmF0aW9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLl9wbGF5ZXIuaXNNZWRpYUxvYWRlZCB8fCB0aGlzLl9yZWxvYWRJbmZvKSByZXR1cm47XG4gICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLl9wbGF5ZXIuZHVyYXRpb24sIHRyaWdnZXIgPSB0aGlzLl9jcmVhdGVFdmVudChldmVudCk7XG4gICAgdGhpcy5fc2Vla2FibGVSYW5nZSA9IG5ldyBUaW1lUmFuZ2UoMCwgZHVyYXRpb24pO1xuICAgIHRoaXMuX25vdGlmeShcImR1cmF0aW9uLWNoYW5nZVwiLCBkdXJhdGlvbiwgdHJpZ2dlcik7XG4gIH1cbiAgX29uVm9sdW1lQ2hhbmdlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLl9wbGF5ZXIuaXNNZWRpYUxvYWRlZCkgcmV0dXJuO1xuICAgIGNvbnN0IGRldGFpbCA9IHtcbiAgICAgIG11dGVkOiB0aGlzLl9wbGF5ZXIuaXNNdXRlZCxcbiAgICAgIHZvbHVtZTogdGhpcy5fcGxheWVyLnZvbHVtZUxldmVsXG4gICAgfSwgdHJpZ2dlciA9IHRoaXMuX2NyZWF0ZUV2ZW50KGV2ZW50KTtcbiAgICB0aGlzLl9ub3RpZnkoXCJ2b2x1bWUtY2hhbmdlXCIsIGRldGFpbCwgdHJpZ2dlcik7XG4gIH1cbiAgX29uUGF1c2VkQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgdHJpZ2dlciA9IHRoaXMuX2NyZWF0ZUV2ZW50KGV2ZW50KTtcbiAgICBpZiAodGhpcy5fcGxheWVyLmlzUGF1c2VkKSB7XG4gICAgICB0aGlzLl9ub3RpZnkoXCJwYXVzZVwiLCB2b2lkIDAsIHRyaWdnZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9ub3RpZnkoXCJwbGF5XCIsIHZvaWQgMCwgdHJpZ2dlcik7XG4gICAgfVxuICB9XG4gIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgY29uc3QgZGV0YWlsID0ge1xuICAgICAgc2Vla2FibGU6IHRoaXMuX2dldFNlZWthYmxlUmFuZ2UoKSxcbiAgICAgIGJ1ZmZlcmVkOiBuZXcgVGltZVJhbmdlKDAsIHRoaXMuX3BsYXllZClcbiAgICB9LCB0cmlnZ2VyID0gZXZlbnQgPyB0aGlzLl9jcmVhdGVFdmVudChldmVudCkgOiB2b2lkIDA7XG4gICAgdGhpcy5fbm90aWZ5KFwicHJvZ3Jlc3NcIiwgZGV0YWlsLCB0cmlnZ2VyKTtcbiAgfVxuICBfb25QbGF5ZXJTdGF0ZUNoYW5nZShldmVudCkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGxheWVyLnBsYXllclN0YXRlLCBQbGF5ZXJTdGF0ZSA9IGNocm9tZS5jYXN0Lm1lZGlhLlBsYXllclN0YXRlO1xuICAgIHRoaXMuX2lzSWRsZSA9IHN0YXRlID09PSBQbGF5ZXJTdGF0ZS5JRExFO1xuICAgIGlmIChzdGF0ZSA9PT0gUGxheWVyU3RhdGUuUEFVU0VEKSByZXR1cm47XG4gICAgY29uc3QgdHJpZ2dlciA9IHRoaXMuX2NyZWF0ZUV2ZW50KGV2ZW50KTtcbiAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICBjYXNlIFBsYXllclN0YXRlLlBMQVlJTkc6XG4gICAgICAgIHRoaXMuX25vdGlmeShcInBsYXlpbmdcIiwgdm9pZCAwLCB0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBsYXllclN0YXRlLkJVRkZFUklORzpcbiAgICAgICAgdGhpcy5fbm90aWZ5KFwid2FpdGluZ1wiLCB2b2lkIDAsIHRyaWdnZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUGxheWVyU3RhdGUuSURMRTpcbiAgICAgICAgdGhpcy5fdGltZVJBRi5fc3RvcCgpO1xuICAgICAgICB0aGlzLl9ub3RpZnkoXCJwYXVzZVwiKTtcbiAgICAgICAgdGhpcy5fbm90aWZ5KFwiZW5kXCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgX2dldFNlZWthYmxlUmFuZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BsYXllci5saXZlU2Vla2FibGVSYW5nZSA/IG5ldyBUaW1lUmFuZ2UodGhpcy5fcGxheWVyLmxpdmVTZWVrYWJsZVJhbmdlLnN0YXJ0LCB0aGlzLl9wbGF5ZXIubGl2ZVNlZWthYmxlUmFuZ2UuZW5kKSA6IHRoaXMuX3NlZWthYmxlUmFuZ2U7XG4gIH1cbiAgX2NyZWF0ZUV2ZW50KGRldGFpbCkge1xuICAgIHJldHVybiBkZXRhaWwgaW5zdGFuY2VvZiBFdmVudCA/IGRldGFpbCA6IG5ldyBET01FdmVudChkZXRhaWwudHlwZSwgeyBkZXRhaWwgfSk7XG4gIH1cbiAgX2J1aWxkTWVkaWFJbmZvKHNyYykge1xuICAgIGNvbnN0IHsgc3RyZWFtVHlwZSwgdGl0bGUsIHBvc3RlciB9ID0gdGhpcy5fY3R4LiRzdGF0ZTtcbiAgICByZXR1cm4gbmV3IEdvb2dsZUNhc3RNZWRpYUluZm9CdWlsZGVyKHNyYykuX3NldE1ldGFkYXRhKHRpdGxlKCksIHBvc3RlcigpKS5fc2V0U3RyZWFtVHlwZShzdHJlYW1UeXBlKCkpLl9zZXRUcmFja3ModGhpcy5fdHJhY2tzLl9nZXRMb2NhbFRleHRUcmFja3MoKSkuYnVpbGQoKTtcbiAgfVxuICBfYnVpbGRMb2FkUmVxdWVzdChzcmMpIHtcbiAgICBjb25zdCBtZWRpYUluZm8gPSB0aGlzLl9idWlsZE1lZGlhSW5mbyhzcmMpLCByZXF1ZXN0ID0gbmV3IGNocm9tZS5jYXN0Lm1lZGlhLkxvYWRSZXF1ZXN0KG1lZGlhSW5mbyksIHNhdmVkU3RhdGUgPSB0aGlzLl9jdHguJHN0YXRlLnNhdmVkU3RhdGUoKTtcbiAgICByZXF1ZXN0LmF1dG9wbGF5ID0gKHRoaXMuX3JlbG9hZEluZm8/LnBhdXNlZCA/PyBzYXZlZFN0YXRlPy5wYXVzZWQpID09PSBmYWxzZTtcbiAgICByZXF1ZXN0LmN1cnJlbnRUaW1lID0gdGhpcy5fcmVsb2FkSW5mbz8udGltZSA/PyBzYXZlZFN0YXRlPy5jdXJyZW50VGltZSA/PyAwO1xuICAgIHJldHVybiByZXF1ZXN0O1xuICB9XG4gIGFzeW5jIF9yZWxvYWQocGF1c2VkLCB0aW1lKSB7XG4gICAgY29uc3Qgc3JjID0gcGVlayh0aGlzLl9jdHguJHN0YXRlLnNvdXJjZSk7XG4gICAgdGhpcy5fcmVsb2FkSW5mbyA9IHsgc3JjLCBwYXVzZWQsIHRpbWUgfTtcbiAgICBhd2FpdCB0aGlzLmxvYWRTb3VyY2Uoc3JjKTtcbiAgfVxuICBfb25OZXdMb2NhbFRyYWNrcygpIHtcbiAgICB0aGlzLl9yZWxvYWQodGhpcy5fcGxheWVyLmlzUGF1c2VkLCB0aGlzLl9wbGF5ZXIuY3VycmVudFRpbWUpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAge1xuICAgICAgICB0aGlzLl9jdHgubG9nZ2VyPy5lcnJvckdyb3VwKFwiW3ZpZHN0YWNrXSBjYXN0IGZhaWxlZCB0byBsb2FkIG5ldyBsb2NhbCB0cmFja3NcIikubGFiZWxsZWRMb2coXCJFcnJvclwiLCBlcnJvcikuZGlzcGF0Y2goKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBHb29nbGVDYXN0UHJvdmlkZXIgfTtcbiJdLCJuYW1lcyI6WyJsaXN0ZW5FdmVudCIsImVmZmVjdCIsInVudHJhY2siLCJjcmVhdGVTY29wZSIsImtleXNPZiIsIm9uRGlzcG9zZSIsIkRPTUV2ZW50IiwicGVlayIsIkxpc3RTeW1ib2wiLCJUaW1lUmFuZ2UiLCJSQUZMb29wIiwiZ2V0Q2FzdFNlc3Npb25NZWRpYSIsImdldENhc3RDb250ZXh0IiwiZ2V0Q2FzdFNlc3Npb24iLCJoYXNBY3RpdmVDYXN0U2Vzc2lvbiIsImxpc3RlbkNhc3RDb250ZXh0RXZlbnQiLCJnZXRDYXN0RXJyb3JNZXNzYWdlIiwiR29vZ2xlQ2FzdE1lZGlhSW5mb0J1aWxkZXIiLCJidWlsZCIsIl9pbmZvIiwiX3NldFN0cmVhbVR5cGUiLCJzdHJlYW1UeXBlIiwiaW5jbHVkZXMiLCJjaHJvbWUiLCJjYXN0IiwibWVkaWEiLCJTdHJlYW1UeXBlIiwiTElWRSIsIkJVRkZFUkVEIiwiX3NldFRyYWNrcyIsInRyYWNrcyIsIm1hcCIsIl9idWlsZENhc3RUcmFjayIsIl9zZXRNZXRhZGF0YSIsInRpdGxlIiwicG9zdGVyIiwibWV0YWRhdGEiLCJHZW5lcmljTWVkaWFNZXRhZGF0YSIsImltYWdlcyIsInVybCIsInRyYWNrIiwidHJhY2tJZCIsImNhc3RUcmFjayIsIlRyYWNrIiwiVHJhY2tUeXBlIiwiVEVYVCIsIm5hbWUiLCJsYWJlbCIsInRyYWNrQ29udGVudElkIiwic3JjIiwidHJhY2tDb250ZW50VHlwZSIsImxhbmd1YWdlIiwic3VidHlwZSIsImtpbmQiLCJ0b1VwcGVyQ2FzZSIsImNvbnN0cnVjdG9yIiwiTWVkaWFJbmZvIiwidHlwZSIsIlJFTU9URV9UUkFDS19URVhUX1RZUEUiLCJSRU1PVEVfVFJBQ0tfQVVESU9fVFlQRSIsIkFVRElPIiwiR29vZ2xlQ2FzdFRyYWNrc01hbmFnZXIiLCJfc2V0dXAiLCJzeW5jUmVtb3RlQWN0aXZlSWRzIiwiX3N5bmNSZW1vdGVBY3RpdmVJZHMiLCJiaW5kIiwiX2N0eCIsImF1ZGlvVHJhY2tzIiwidGV4dFRyYWNrcyIsIl9zeW5jTG9jYWxUcmFja3MiLCJfZ2V0TG9jYWxUZXh0VHJhY2tzIiwiJHN0YXRlIiwiZmlsdGVyIiwiX2dldExvY2FsQXVkaW9UcmFja3MiLCJfZ2V0UmVtb3RlVHJhY2tzIiwiX2Nhc3QiLCJtZWRpYUluZm8iLCJfZ2V0UmVtb3RlQWN0aXZlSWRzIiwiYWN0aXZlSWRzIiwiYWN0aXZlTG9jYWxBdWRpb1RyYWNrIiwiZmluZCIsInNlbGVjdGVkIiwiYWN0aXZlTG9jYWxUZXh0VHJhY2tzIiwibW9kZSIsInJlbW90ZUF1ZGlvVHJhY2tzIiwicmVtb3RlQXVkaW9UcmFjayIsIl9maW5kUmVtb3RlVHJhY2siLCJwdXNoIiwibGVuZ3RoIiwicmVtb3RlVGV4dFRyYWNrcyIsImxvY2FsVHJhY2siLCJyZW1vdGVUZXh0VHJhY2siLCJsb2NhbFRleHRUcmFja3MiLCJpc01lZGlhTG9hZGVkIiwiaGFzUmVtb3RlVHJhY2siLCJfb25OZXdMb2NhbFRyYWNrcyIsIl9zeW5jUmVtb3RlVHJhY2tzIiwiZXZlbnQiLCJsb2NhbEF1ZGlvVHJhY2tzIiwiaGFzTG9jYWxUcmFjayIsIl9maW5kTG9jYWxUcmFjayIsImxvY2FsQXVkaW9UcmFjayIsImlkIiwidG9TdHJpbmciLCJfYWRkIiwibG9jYWxUZXh0VHJhY2siLCJ0b0xvd2VyQ2FzZSIsImFkZCIsImVkaXRSZXF1ZXN0IiwiRWRpdFRyYWNrc0luZm9SZXF1ZXN0IiwiX2VkaXRUcmFja3NJbmZvIiwiY2F0Y2giLCJlcnJvciIsImxvZ2dlciIsImVycm9yR3JvdXAiLCJsYWJlbGxlZExvZyIsImRpc3BhdGNoIiwicmVxdWVzdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZWRpdFRyYWNrc0luZm8iLCJsb2NhbFRyYWNrcyIsInJlbW90ZVRyYWNrIiwiX2lzTWF0Y2giLCJyZW1vdGVUcmFja3MiLCJHb29nbGVDYXN0UHJvdmlkZXIiLCJfbm90aWZ5IiwiZGVsZWdhdGUiLCJjdXJyZW50U3JjIiwiX2N1cnJlbnRTcmMiLCJwbGF5ZXIiLCJfcGxheWVyIiwic2Vzc2lvbiIsImhhc0FjdGl2ZVNlc3Npb24iLCJzZXR1cCIsIl9hdHRhY2hDYXN0Q29udGV4dEV2ZW50TGlzdGVuZXJzIiwiX2F0dGFjaENhc3RQbGF5ZXJFdmVudExpc3RlbmVycyIsIl90cmFja3MiLCJmcmFtZXdvcmsiLCJDYXN0Q29udGV4dEV2ZW50VHlwZSIsIkNBU1RfU1RBVEVfQ0hBTkdFRCIsIl9vbkNhc3RTdGF0ZUNoYW5nZSIsIkV2ZW50MiIsIlJlbW90ZVBsYXllckV2ZW50VHlwZSIsImhhbmRsZXJzIiwiSVNfQ09OTkVDVEVEX0NIQU5HRUQiLCJJU19NRURJQV9MT0FERURfQ0hBTkdFRCIsIl9vbk1lZGlhTG9hZGVkQ2hhbmdlIiwiQ0FOX0NPTlRST0xfVk9MVU1FX0NIQU5HRUQiLCJfb25DYW5Db250cm9sVm9sdW1lQ2hhbmdlIiwiQ0FOX1NFRUtfQ0hBTkdFRCIsIl9vbkNhblNlZWtDaGFuZ2UiLCJEVVJBVElPTl9DSEFOR0VEIiwiX29uRHVyYXRpb25DaGFuZ2UiLCJJU19NVVRFRF9DSEFOR0VEIiwiX29uVm9sdW1lQ2hhbmdlIiwiVk9MVU1FX0xFVkVMX0NIQU5HRUQiLCJJU19QQVVTRURfQ0hBTkdFRCIsIl9vblBhdXNlZENoYW5nZSIsIkxJVkVfU0VFS0FCTEVfUkFOR0VfQ0hBTkdFRCIsIl9vblByb2dyZXNzIiwiUExBWUVSX1NUQVRFX0NIQU5HRUQiLCJfb25QbGF5ZXJTdGF0ZUNoYW5nZSIsIl9wbGF5ZXJFdmVudEhhbmRsZXJzIiwiaGFuZGxlciIsIl9vblJlbW90ZVBsYXllckV2ZW50IiwiY29udHJvbGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGxheSIsImlzUGF1c2VkIiwiX2lzSWRsZSIsIl9yZWxvYWQiLCJwbGF5T3JQYXVzZSIsInBhdXNlIiwiZ2V0TWVkaWFTdGF0dXMiLCJnZXRTdGF0dXMiLCJzZXRNdXRlZCIsIm11dGVkIiwiaGFzQ2hhbmdlZCIsImlzTXV0ZWQiLCJtdXRlT3JVbm11dGUiLCJzZXRDdXJyZW50VGltZSIsInRpbWUiLCJjdXJyZW50VGltZSIsInNlZWsiLCJzZXRWb2x1bWUiLCJ2b2x1bWUiLCJ2b2x1bWVMZXZlbCIsInNldFZvbHVtZUxldmVsIiwibG9hZFNvdXJjZSIsIl9yZWxvYWRJbmZvIiwiX3Jlc3VtZVNlc3Npb24iLCJsb2FkUmVxdWVzdCIsIl9idWlsZExvYWRSZXF1ZXN0IiwiZXJyb3JDb2RlIiwibG9hZE1lZGlhIiwiRXJyb3IiLCJkZXN0cm95IiwiX3Jlc2V0IiwiX2VuZFNlc3Npb24iLCJfcGxheWVkIiwiX3NlZWthYmxlUmFuZ2UiLCJfdGltZVJBRiIsIl9zdG9wIiwiX2N1cnJlbnRUaW1lIiwicmVzdW1lU2Vzc2lvbkV2ZW50IiwiZGV0YWlsIiwic2F2ZWRTdGF0ZSIsImxvY2FsU3RhdGUiLCJNYXRoIiwibWF4IiwicGF1c2VkIiwiZW5kQ3VycmVudFNlc3Npb24iLCJyZW1vdGVQbGF5YmFja0xvYWRlciIsInNldCIsIl9kaXNjb25uZWN0RnJvbVJlY2VpdmVyIiwiX29uQW5pbWF0aW9uRnJhbWUiLCJfb25DdXJyZW50VGltZUNoYW5nZSIsImNhbGwiLCJkYXRhIiwiY2FzdFN0YXRlIiwiZ2V0Q2FzdFN0YXRlIiwic3RhdGUiLCJDYXN0U3RhdGUiLCJDT05ORUNURUQiLCJDT05ORUNUSU5HIiwiX3N0YXRlIiwidHJpZ2dlciIsIl9jcmVhdGVFdmVudCIsImhhc0xvYWRlZCIsInNvdXJjZSIsInRoZW4iLCJkdXJhdGlvbiIsInByb3ZpZGVyIiwiYnVmZmVyZWQiLCJzZWVrYWJsZSIsIl9nZXRTZWVrYWJsZVJhbmdlIiwiX3N0YXJ0IiwiY2FuU2V0Vm9sdW1lIiwiY2FuQ29udHJvbFZvbHVtZSIsIl9nZXRTdHJlYW1UeXBlIiwiY2FuU2VlayIsInNlZWtpbmciLCJwbGF5ZXJTdGF0ZSIsIlBsYXllclN0YXRlIiwiSURMRSIsIlBBVVNFRCIsIlBMQVlJTkciLCJCVUZGRVJJTkciLCJsaXZlU2Vla2FibGVSYW5nZSIsInN0YXJ0IiwiZW5kIiwiRXZlbnQiLCJfYnVpbGRNZWRpYUluZm8iLCJMb2FkUmVxdWVzdCIsImF1dG9wbGF5IiwiJCRQUk9WSURFUl9UWVBFIiwic2NvcGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@vidstack/react/dev/chunks/vidstack-OqUG8Vsn.js\n"));

/***/ })

}]);